<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        /* Previous styles remain the same */
        .add-button {
            background-color: #e0e0e0 !important;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .add-button::before {
            content: "+";
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 2.5rem;
            color: #666;
        }

        .add-button:hover {
            background-color: #d0d0d0 !important;
            transform: scale(1.02);
        }

        .add-button:hover::before {
            color: #444;
        }
    </style>
</head>
<body>
    <div class="container" id="container"></div>

    <script>
        let rectangles = [
            { id: 1, color: 'color-1', label: 'Label 1' },
            { id: 2, color: 'color-2', label: 'Label 2' },
            { id: 3, color: 'color-3', label: 'Label 3' },
            { id: 4, color: 'color-4', label: 'Label 4' },
            { id: 5, color: 'color-5', label: 'Label 5' }
        ];

        const colors = ['color-1', 'color-2', 'color-3', 'color-4', 'color-5'];
        let colorIndex = 0;

        function renderRectangles() {
            const container = document.getElementById('container');
            container.innerHTML = '';

            rectangles.forEach(rect => {
                const wrapper = document.createElement('div');
                wrapper.className = 'box-wrapper';
                wrapper.innerHTML = `
                    <div class="box ${rect.color}">
                        <div class="label" contenteditable="true">${rect.label}</div>
                    </div>
                `;
                container.appendChild(wrapper);
            });

            // Add the "+" button
            const addWrapper = document.createElement('div');
            addWrapper.className = 'box-wrapper';
            addWrapper.innerHTML = `
                <div class="box add-button"></div>
            `;
            container.appendChild(addWrapper);

            // Reattach event listeners
            attachLabelListeners();
            document.querySelector('.add-button').addEventListener('click', addNewRectangle);
        }

        function addNewRectangle() {
            colorIndex = (colorIndex + 1) % colors.length;
            const newId = rectangles.length + 1;
            
            rectangles.push({
                id: newId,
                color: colors[colorIndex],
                label: `Label ${newId}`
            });
            
            renderRectangles();
        }

        function attachLabelListeners() {
            document.querySelectorAll('.label').forEach(label => {
                const originalText = label.textContent;

                label.addEventListener('focus', () => {
                    if (label.textContent === originalText) {
                        label.textContent = '';
                    }
                });

                label.addEventListener('blur', () => {
                    if (label.textContent.trim() === '') {
                        label.textContent = originalText;
                    }
                });

                label.addEventListener('keydown', (e) => {
                    if (e.key === 'Enter') {
                        e.preventDefault();
                        label.blur();
                    }
                });
            });
        }

        // Initial render
        renderRectangles();
    </script>
</body>
</html>